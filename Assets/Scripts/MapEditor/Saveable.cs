using System.Collections.Generic;
using System;
using UnityEngine;

[Serializable]
public class ObjectData
{
    public string prefabName;   // Resources에서 로드할 prefab 이름 
    public string instanceName; // Scene에 생성될 object 이름

    // Vector3는 내부에 있는 normalized 같은 프로퍼티가 담겨있는 복잡한 타입
    // 이런 Vector3를 그대로 직렬화 하려하면 무한 참조에 빠짐
    // 따라서 Vector3를 그대로 Newtonsoft.Json 에 넣으면 안됨
    // 그래서 이런식으로 X, Y, Z 값을 분해해서 넣을 필요가 있음
    public float posX;
    public float posY;
    public float posZ;

    public float rotX;
    public float rotY;
    public float rotZ;

    public float scaleX;
    public float scaleY;
    public float scaleZ;
}

[Serializable]
public class MapData
{
    public string mapName;
    public List<ObjectData> objects;
}

[Serializable]
public class MapDataBase
{
    public List<MapData> maps = new List<MapData>();
}

// 저장 가능한 오브젝트에만 붙힐 컴포넌트
public class Saveable :MonoBehaviour
{
    public string prefabName;
}
